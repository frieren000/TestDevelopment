# API接口测试自动化框架构建

## 1. 测试目标

本项目旨在对接由Django开发的后端接口系统进行自动化测试，确保其功能正确性、性能稳定性以及兼容性。通过自动化测试框架的搭建，实现对API接口的快速验证与回归测试，提升软件质量与开发效率。

## 2. 测试框架核心组件

### 2.1 测试框架 - Pytest

[Pytest](https://docs.pytest.org/en/latest/) 是一个成熟的Python测试框架，支持简单的单元测试到复杂的功能测试。它具有丰富的插件生态，能够满足各种测试需求。

- **特性**：简单易用、强大的断言机制、参数化测试、fixture等。
- **使用场景**：适用于所有类型的测试（单元测试、集成测试、端到端测试）。

### 2.2 HTTP请求库 - Requests

[Requests](https://requests.readthedocs.io/en/master/) 是一个优雅且简单的HTTP库，用于发送所有的HTTP请求类型（GET, POST, PUT, DELETE等），是Python中处理HTTP请求的事实标准。

- **特性**：易于使用、人性化的设计、支持Session对象以保持状态。

### 2.3 日志管理 - Logging

[Logging](https://docs.python.org/3/library/logging.html) 是Python内置的日志模块，允许开发者记录程序运行时的信息，便于调试和监控。

- **特性**：灵活配置日志级别、输出格式和目的地（文件、控制台等）。

### 2.4 测试报告生成 - Allure

[Allure](http://allure.qatools.ru/) 是一个灵活的、轻量级的多语言测试报告工具，通过简洁美观的UI展示测试结果，帮助团队更好地理解和分析测试数据。

- **特性**：支持多种编程语言、可定制的测试步骤、附件上传（如截图、日志等）。

### 2.5 数据管理

采用YAML、MySQL、JSON文件或`pytest.mark.parametrize`等方式进行测试数据的管理和驱动，使测试数据与代码分离，提高测试脚本的复用性和维护性。

- **推荐方式**：
  - YAML/JSON 文件存储静态测试数据。
  - MySQL 数据库存储动态测试数据，适合需要频繁变更的数据场景。
  - `pytest.mark.parametrize` 实现数据驱动测试，支持多个输入值组合。

### 2.6 测试断言 - Pytest原生断言

利用Pytest提供的强大而简洁的断言机制进行预期结果与实际结果的对比，无需额外引入第三方库。

- **特性**：智能断言信息输出、支持复杂表达式断言。